{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ajgre\\\\Drepheus-Portal\\\\src\\\\components\\\\MatrixRain.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useRef, useEffect, useMemo, useState, useCallback } from 'react';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { gsap } from 'gsap';\nimport { motion } from 'framer-motion';\nimport * as THREE from 'three';\n\n// Matrix characters including Japanese katakana, Latin letters, and numbers\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MATRIX_CHARS = ['ｱ', 'ｲ', 'ｳ', 'ｴ', 'ｵ', 'ｶ', 'ｷ', 'ｸ', 'ｹ', 'ｺ', 'ｻ', 'ｼ', 'ｽ', 'ｾ', 'ｿ', 'ﾀ', 'ﾁ', 'ﾂ', 'ﾃ', 'ﾄ', 'ﾅ', 'ﾆ', 'ﾇ', 'ﾈ', 'ﾉ', 'ﾊ', 'ﾋ', 'ﾌ', 'ﾍ', 'ﾎ', 'ﾏ', 'ﾐ', 'ﾑ', 'ﾒ', 'ﾓ', 'ﾔ', 'ﾕ', 'ﾖ', 'ﾗ', 'ﾘ', 'ﾙ', 'ﾚ', 'ﾛ', 'ﾜ', 'ｦ', 'ﾝ', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '-', '_', '=', '+', '[', ']', '{', '}', '|', '\\\\', ';', ':', '\"', \"'\", '<', '>', ',', '.', '?', '/'];\n\n// Generate a random matrix character\nconst getRandomChar = () => MATRIX_CHARS[Math.floor(Math.random() * MATRIX_CHARS.length)];\n\n// Color themes\nconst THEMES = {\n  green: {\n    primary: '#00ff00',\n    secondary: '#003300',\n    bright: '#66ff66'\n  },\n  blue: {\n    primary: '#00ffff',\n    secondary: '#003333',\n    bright: '#66ffff'\n  },\n  gold: {\n    primary: '#ffd700',\n    secondary: '#333300',\n    bright: '#ffff66'\n  },\n  white: {\n    primary: '#ffffff',\n    secondary: '#333333',\n    bright: '#ffffff'\n  }\n};\n\n// Individual character component with Three.js\nfunction MatrixChar({\n  position,\n  char,\n  brightness,\n  theme,\n  glitchIntensity\n}) {\n  _s();\n  const meshRef = useRef();\n  const materialRef = useRef();\n  const color = useMemo(() => {\n    const colors = THEMES[theme];\n    if (brightness > 0.8) return colors.bright;\n    if (brightness > 0.5) return colors.primary;\n    return colors.secondary;\n  }, [brightness, theme]);\n  useFrame(state => {\n    if (meshRef.current && materialRef.current && materialRef.current.emissive) {\n      // Apply glitch effect\n      if (Math.random() < glitchIntensity) {\n        const glitchOffset = (Math.random() - 0.5) * 0.1;\n        meshRef.current.position.x = position[0] + glitchOffset;\n        meshRef.current.position.y = position[1] + glitchOffset;\n      } else {\n        meshRef.current.position.x = position[0];\n        meshRef.current.position.y = position[1];\n      }\n\n      // Flickering effect\n      const flicker = 0.8 + Math.sin(state.clock.elapsedTime * 10) * 0.2;\n      materialRef.current.opacity = brightness * flicker;\n\n      // Color pulsing - safely check if emissive exists\n      try {\n        const pulse = 0.8 + Math.sin(state.clock.elapsedTime * 3) * 0.2;\n        if (materialRef.current.emissive && materialRef.current.emissive.setHex) {\n          materialRef.current.emissive.setHex(parseInt(color.replace('#', ''), 16));\n        }\n        if (materialRef.current.emissiveIntensity !== undefined) {\n          materialRef.current.emissiveIntensity = pulse * brightness;\n        }\n      } catch (error) {\n        // Silently handle any emissive property errors\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    ref: meshRef,\n    position: [...position, 0],\n    children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {\n      args: [0.5, 0.7]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshBasicMaterial\", {\n      ref: materialRef,\n      color: color,\n      transparent: true,\n      opacity: brightness,\n      side: THREE.DoubleSide\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n// Single rain stream component\n_s(MatrixChar, \"9RAbhNsMDofGQvsNywB7NISM9Po=\", false, function () {\n  return [useFrame];\n});\n_c = MatrixChar;\nfunction RainStream({\n  x,\n  speed,\n  length,\n  theme,\n  depth,\n  mousePosition,\n  glitchIntensity\n}) {\n  _s2();\n  const groupRef = useRef();\n  const [chars, setChars] = useState([]);\n  const [positions, setPositions] = useState([]);\n\n  // Initialize stream\n  useEffect(() => {\n    const streamChars = Array.from({\n      length\n    }, () => ({\n      char: getRandomChar(),\n      brightness: Math.random(),\n      id: Math.random()\n    }));\n    setChars(streamChars);\n    const streamPositions = streamChars.map((_, index) => [x, 20 - index * 0.7, depth]);\n    setPositions(streamPositions);\n  }, [x, length, depth]);\n\n  // Animation frame\n  useFrame(state => {\n    if (groupRef.current) {\n      // Move stream down\n      groupRef.current.position.y -= speed;\n\n      // Reset when off screen\n      if (groupRef.current.position.y < -30) {\n        groupRef.current.position.y = 25;\n\n        // Regenerate characters for variety\n        if (Math.random() < 0.1) {\n          setChars(chars.map(char => ({\n            ...char,\n            char: Math.random() < 0.3 ? getRandomChar() : char.char,\n            brightness: Math.random()\n          })));\n        }\n      }\n\n      // Parallax effect based on mouse position\n      const parallaxStrength = 0.02;\n      const offsetX = (mousePosition.x - 0.5) * parallaxStrength * depth;\n      const offsetY = (mousePosition.y - 0.5) * parallaxStrength * depth;\n      groupRef.current.position.x = x + offsetX;\n      groupRef.current.position.z = depth + offsetY;\n\n      // Apply subtle rotation based on mouse movement\n      const rotationStrength = 0.01;\n      groupRef.current.rotation.z = (mousePosition.x - 0.5) * rotationStrength;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: groupRef,\n    children: chars.map((charData, index) => /*#__PURE__*/_jsxDEV(MatrixChar, {\n      position: [0, -index * 0.7, 0],\n      char: charData.char,\n      brightness: charData.brightness * (1 - index / length),\n      theme: theme,\n      glitchIntensity: glitchIntensity\n    }, `${charData.id}-${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n\n// Particle system for ambient effects\n_s2(RainStream, \"P+CcRlnqYcpKyuy92Ojhca26AX8=\", false, function () {\n  return [useFrame];\n});\n_c2 = RainStream;\nfunction AmbientParticles({\n  theme,\n  mousePosition\n}) {\n  _s3();\n  const particlesRef = useRef();\n  const particleCount = 50;\n  const particles = useMemo(() => {\n    const positions = new Float32Array(particleCount * 3);\n    const colors = new Float32Array(particleCount * 3);\n    const color = new THREE.Color(THEMES[theme].primary);\n    for (let i = 0; i < particleCount; i++) {\n      positions[i * 3] = (Math.random() - 0.5) * 50;\n      positions[i * 3 + 1] = (Math.random() - 0.5) * 50;\n      positions[i * 3 + 2] = (Math.random() - 0.5) * 20;\n      colors[i * 3] = color.r;\n      colors[i * 3 + 1] = color.g;\n      colors[i * 3 + 2] = color.b;\n    }\n    return {\n      positions,\n      colors\n    };\n  }, [theme]);\n  useFrame(state => {\n    if (particlesRef.current) {\n      const positions = particlesRef.current.geometry.attributes.position.array;\n      for (let i = 0; i < particleCount; i++) {\n        positions[i * 3 + 1] -= 0.01;\n        if (positions[i * 3 + 1] < -25) {\n          positions[i * 3 + 1] = 25;\n          positions[i * 3] = (Math.random() - 0.5) * 50;\n          positions[i * 3 + 2] = (Math.random() - 0.5) * 20;\n        }\n\n        // Mouse interaction\n        const dx = positions[i * 3] - mousePosition.x * 25;\n        const dy = positions[i * 3 + 1] - mousePosition.y * 25;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        if (distance < 5) {\n          positions[i * 3] += dx / distance * 0.1;\n          positions[i * 3 + 1] += dy / distance * 0.1;\n        }\n      }\n      particlesRef.current.geometry.attributes.position.needsUpdate = true;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"points\", {\n    ref: particlesRef,\n    children: [/*#__PURE__*/_jsxDEV(\"bufferGeometry\", {\n      children: [/*#__PURE__*/_jsxDEV(\"bufferAttribute\", {\n        array: particles.positions,\n        count: particleCount,\n        itemSize: 3,\n        attach: \"attributes-position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"bufferAttribute\", {\n        array: particles.colors,\n        count: particleCount,\n        itemSize: 3,\n        attach: \"attributes-color\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pointsMaterial\", {\n      size: 0.1,\n      transparent: true,\n      opacity: 0.6,\n      vertexColors: true,\n      blending: THREE.AdditiveBlending\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n}\n\n// Main Three.js scene component\n_s3(AmbientParticles, \"6U3X4nuEaYm1tAaVFlZXvVGwQm4=\", false, function () {\n  return [useFrame];\n});\n_c3 = AmbientParticles;\nfunction MatrixScene({\n  theme,\n  mousePosition,\n  settings\n}) {\n  _s4();\n  const {\n    viewport\n  } = useThree();\n  const streamCount = settings.streamDensity;\n  const streams = useMemo(() => {\n    return Array.from({\n      length: streamCount\n    }, (_, index) => ({\n      x: index / streamCount * viewport.width - viewport.width / 2,\n      speed: 0.02 + Math.random() * 0.05,\n      length: 15 + Math.floor(Math.random() * 20),\n      depth: -5 + Math.random() * 10,\n      id: index\n    }));\n  }, [streamCount, viewport.width]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n      position: [0, 0, 10],\n      intensity: 0.5,\n      color: THEMES[theme].primary\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), streams.map(stream => /*#__PURE__*/_jsxDEV(RainStream, {\n      x: stream.x,\n      speed: stream.speed,\n      length: stream.length,\n      theme: theme,\n      depth: stream.depth,\n      mousePosition: mousePosition,\n      glitchIntensity: settings.glitchIntensity\n    }, stream.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 9\n    }, this)), settings.ambientParticles && /*#__PURE__*/_jsxDEV(AmbientParticles, {\n      theme: theme,\n      mousePosition: mousePosition\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n// Main MatrixRain component\n_s4(MatrixScene, \"Z3fv8XjShpvY9u7xtSoDMmrS2ss=\", false, function () {\n  return [useThree];\n});\n_c4 = MatrixScene;\nconst MatrixRain = ({\n  theme = 'green',\n  className = '',\n  settings = {\n    streamDensity: 50,\n    glitchIntensity: 0.02,\n    ambientParticles: true,\n    motionBlur: true,\n    interactive: true\n  }\n}) => {\n  _s5();\n  const containerRef = useRef();\n  const [mousePosition, setMousePosition] = useState({\n    x: 0.5,\n    y: 0.5\n  });\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // Mouse tracking for parallax effect\n  const handleMouseMove = useCallback(event => {\n    var _containerRef$current;\n    if (!settings.interactive) return;\n    const rect = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.getBoundingClientRect();\n    if (rect) {\n      const x = (event.clientX - rect.left) / rect.width;\n      const y = (event.clientY - rect.top) / rect.height;\n      setMousePosition({\n        x,\n        y\n      });\n    }\n  }, [settings.interactive]);\n\n  // Initialize component\n  useEffect(() => {\n    setIsLoaded(true);\n\n    // GSAP entrance animation\n    if (containerRef.current) {\n      gsap.fromTo(containerRef.current, {\n        opacity: 0,\n        scale: 1.1\n      }, {\n        opacity: 1,\n        scale: 1,\n        duration: 2,\n        ease: 'power2.out'\n      });\n    }\n  }, []);\n\n  // Performance optimization: throttle mouse events\n  useEffect(() => {\n    let timeoutId;\n    const throttledMouseMove = event => {\n      if (timeoutId) return;\n      timeoutId = setTimeout(() => {\n        handleMouseMove(event);\n        timeoutId = null;\n      }, 16); // ~60fps\n    };\n    if (containerRef.current) {\n      containerRef.current.addEventListener('mousemove', throttledMouseMove);\n      return () => {\n        if (containerRef.current) {\n          containerRef.current.removeEventListener('mousemove', throttledMouseMove);\n        }\n        if (timeoutId) clearTimeout(timeoutId);\n      };\n    }\n  }, [handleMouseMove]);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    ref: containerRef,\n    className: `fixed inset-0 overflow-hidden bg-black ${className}`,\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: isLoaded ? 1 : 0\n    },\n    transition: {\n      duration: 1.5\n    },\n    style: {\n      background: 'radial-gradient(ellipse at center, #000000 0%, #000000 100%)',\n      filter: settings.motionBlur ? 'blur(0.5px)' : 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-b from-black via-gray-900 to-black opacity-50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n      camera: {\n        position: [0, 0, 15],\n        fov: 75,\n        near: 0.1,\n        far: 1000\n      },\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 1\n      },\n      dpr: [1, 2] // Responsive pixel ratio for performance\n      ,\n      performance: {\n        min: 0.5\n      } // Performance threshold\n      ,\n      children: /*#__PURE__*/_jsxDEV(MatrixScene, {\n        theme: theme,\n        mousePosition: mousePosition,\n        settings: settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 pointer-events-none\",\n      style: {\n        background: `linear-gradient(45deg, transparent 0%, ${THEMES[theme].primary}05 50%, transparent 100%)`,\n        zIndex: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 pointer-events-none opacity-10\",\n      style: {\n        background: 'repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.1) 2px, rgba(255,255,255,0.1) 4px)',\n        zIndex: 3\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 5\n  }, this);\n};\n_s5(MatrixRain, \"T7YhgSu+WIbsJC0Lz2u7Hp/pYRs=\");\n_c5 = MatrixRain;\nexport default MatrixRain;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"MatrixChar\");\n$RefreshReg$(_c2, \"RainStream\");\n$RefreshReg$(_c3, \"AmbientParticles\");\n$RefreshReg$(_c4, \"MatrixScene\");\n$RefreshReg$(_c5, \"MatrixRain\");","map":{"version":3,"names":["React","useRef","useEffect","useMemo","useState","useCallback","Canvas","useFrame","useThree","gsap","motion","THREE","jsxDEV","_jsxDEV","Fragment","_Fragment","MATRIX_CHARS","getRandomChar","Math","floor","random","length","THEMES","green","primary","secondary","bright","blue","gold","white","MatrixChar","position","char","brightness","theme","glitchIntensity","_s","meshRef","materialRef","color","colors","state","current","emissive","glitchOffset","x","y","flicker","sin","clock","elapsedTime","opacity","pulse","setHex","parseInt","replace","emissiveIntensity","undefined","error","ref","children","args","fileName","_jsxFileName","lineNumber","columnNumber","transparent","side","DoubleSide","_c","RainStream","speed","depth","mousePosition","_s2","groupRef","chars","setChars","positions","setPositions","streamChars","Array","from","id","streamPositions","map","_","index","parallaxStrength","offsetX","offsetY","z","rotationStrength","rotation","charData","_c2","AmbientParticles","_s3","particlesRef","particleCount","particles","Float32Array","Color","i","r","g","b","geometry","attributes","array","dx","dy","distance","sqrt","needsUpdate","count","itemSize","attach","size","vertexColors","blending","AdditiveBlending","_c3","MatrixScene","settings","_s4","viewport","streamCount","streamDensity","streams","width","intensity","stream","ambientParticles","_c4","MatrixRain","className","motionBlur","interactive","_s5","containerRef","setMousePosition","isLoaded","setIsLoaded","handleMouseMove","event","_containerRef$current","rect","getBoundingClientRect","clientX","left","clientY","top","height","fromTo","scale","duration","ease","timeoutId","throttledMouseMove","setTimeout","addEventListener","removeEventListener","clearTimeout","div","initial","animate","transition","style","background","filter","camera","fov","near","far","zIndex","dpr","performance","min","_c5","$RefreshReg$"],"sources":["C:/Users/ajgre/Drepheus-Portal/src/components/MatrixRain.jsx"],"sourcesContent":["import React, { useRef, useEffect, useMemo, useState, useCallback } from 'react';\r\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\r\nimport { gsap } from 'gsap';\r\nimport { motion } from 'framer-motion';\r\nimport * as THREE from 'three';\r\n\r\n// Matrix characters including Japanese katakana, Latin letters, and numbers\r\nconst MATRIX_CHARS = [\r\n  'ｱ', 'ｲ', 'ｳ', 'ｴ', 'ｵ', 'ｶ', 'ｷ', 'ｸ', 'ｹ', 'ｺ',\r\n  'ｻ', 'ｼ', 'ｽ', 'ｾ', 'ｿ', 'ﾀ', 'ﾁ', 'ﾂ', 'ﾃ', 'ﾄ',\r\n  'ﾅ', 'ﾆ', 'ﾇ', 'ﾈ', 'ﾉ', 'ﾊ', 'ﾋ', 'ﾌ', 'ﾍ', 'ﾎ',\r\n  'ﾏ', 'ﾐ', 'ﾑ', 'ﾒ', 'ﾓ', 'ﾔ', 'ﾕ', 'ﾖ', 'ﾗ', 'ﾘ',\r\n  'ﾙ', 'ﾚ', 'ﾛ', 'ﾜ', 'ｦ', 'ﾝ',\r\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',\r\n  'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T',\r\n  'U', 'V', 'W', 'X', 'Y', 'Z',\r\n  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\r\n  '!', '@', '#', '$', '%', '^', '&', '*', '(', ')',\r\n  '-', '_', '=', '+', '[', ']', '{', '}', '|', '\\\\',\r\n  ';', ':', '\"', \"'\", '<', '>', ',', '.', '?', '/'\r\n];\r\n\r\n// Generate a random matrix character\r\nconst getRandomChar = () => MATRIX_CHARS[Math.floor(Math.random() * MATRIX_CHARS.length)];\r\n\r\n// Color themes\r\nconst THEMES = {\r\n  green: { primary: '#00ff00', secondary: '#003300', bright: '#66ff66' },\r\n  blue: { primary: '#00ffff', secondary: '#003333', bright: '#66ffff' },\r\n  gold: { primary: '#ffd700', secondary: '#333300', bright: '#ffff66' },\r\n  white: { primary: '#ffffff', secondary: '#333333', bright: '#ffffff' }\r\n};\r\n\r\n// Individual character component with Three.js\r\nfunction MatrixChar({ position, char, brightness, theme, glitchIntensity }) {\r\n  const meshRef = useRef();\r\n  const materialRef = useRef();\r\n  \r\n  const color = useMemo(() => {\r\n    const colors = THEMES[theme];\r\n    if (brightness > 0.8) return colors.bright;\r\n    if (brightness > 0.5) return colors.primary;\r\n    return colors.secondary;\r\n  }, [brightness, theme]);\r\n\r\n  useFrame((state) => {\r\n    if (meshRef.current && materialRef.current && materialRef.current.emissive) {\r\n      // Apply glitch effect\r\n      if (Math.random() < glitchIntensity) {\r\n        const glitchOffset = (Math.random() - 0.5) * 0.1;\r\n        meshRef.current.position.x = position[0] + glitchOffset;\r\n        meshRef.current.position.y = position[1] + glitchOffset;\r\n      } else {\r\n        meshRef.current.position.x = position[0];\r\n        meshRef.current.position.y = position[1];\r\n      }\r\n      \r\n      // Flickering effect\r\n      const flicker = 0.8 + Math.sin(state.clock.elapsedTime * 10) * 0.2;\r\n      materialRef.current.opacity = brightness * flicker;\r\n      \r\n      // Color pulsing - safely check if emissive exists\r\n      try {\r\n        const pulse = 0.8 + Math.sin(state.clock.elapsedTime * 3) * 0.2;\r\n        if (materialRef.current.emissive && materialRef.current.emissive.setHex) {\r\n          materialRef.current.emissive.setHex(parseInt(color.replace('#', ''), 16));\r\n        }\r\n        if (materialRef.current.emissiveIntensity !== undefined) {\r\n          materialRef.current.emissiveIntensity = pulse * brightness;\r\n        }\r\n      } catch (error) {\r\n        // Silently handle any emissive property errors\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <mesh ref={meshRef} position={[...position, 0]}>\r\n      <planeGeometry args={[0.5, 0.7]} />\r\n      <meshBasicMaterial\r\n        ref={materialRef}\r\n        color={color}\r\n        transparent\r\n        opacity={brightness}\r\n        side={THREE.DoubleSide}\r\n      />\r\n    </mesh>\r\n  );\r\n}\r\n\r\n// Single rain stream component\r\nfunction RainStream({ \r\n  x, \r\n  speed, \r\n  length, \r\n  theme, \r\n  depth, \r\n  mousePosition,\r\n  glitchIntensity \r\n}) {\r\n  const groupRef = useRef();\r\n  const [chars, setChars] = useState([]);\r\n  const [positions, setPositions] = useState([]);\r\n  \r\n  // Initialize stream\r\n  useEffect(() => {\r\n    const streamChars = Array.from({ length }, () => ({\r\n      char: getRandomChar(),\r\n      brightness: Math.random(),\r\n      id: Math.random()\r\n    }));\r\n    setChars(streamChars);\r\n    \r\n    const streamPositions = streamChars.map((_, index) => [\r\n      x,\r\n      20 - index * 0.7,\r\n      depth\r\n    ]);\r\n    setPositions(streamPositions);\r\n  }, [x, length, depth]);\r\n  \r\n  // Animation frame\r\n  useFrame((state) => {\r\n    if (groupRef.current) {\r\n      // Move stream down\r\n      groupRef.current.position.y -= speed;\r\n      \r\n      // Reset when off screen\r\n      if (groupRef.current.position.y < -30) {\r\n        groupRef.current.position.y = 25;\r\n        \r\n        // Regenerate characters for variety\r\n        if (Math.random() < 0.1) {\r\n          setChars(chars.map(char => ({\r\n            ...char,\r\n            char: Math.random() < 0.3 ? getRandomChar() : char.char,\r\n            brightness: Math.random()\r\n          })));\r\n        }\r\n      }\r\n      \r\n      // Parallax effect based on mouse position\r\n      const parallaxStrength = 0.02;\r\n      const offsetX = (mousePosition.x - 0.5) * parallaxStrength * depth;\r\n      const offsetY = (mousePosition.y - 0.5) * parallaxStrength * depth;\r\n      \r\n      groupRef.current.position.x = x + offsetX;\r\n      groupRef.current.position.z = depth + offsetY;\r\n      \r\n      // Apply subtle rotation based on mouse movement\r\n      const rotationStrength = 0.01;\r\n      groupRef.current.rotation.z = (mousePosition.x - 0.5) * rotationStrength;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <group ref={groupRef}>\r\n      {chars.map((charData, index) => (\r\n        <MatrixChar\r\n          key={`${charData.id}-${index}`}\r\n          position={[0, -index * 0.7, 0]}\r\n          char={charData.char}\r\n          brightness={charData.brightness * (1 - index / length)}\r\n          theme={theme}\r\n          glitchIntensity={glitchIntensity}\r\n        />\r\n      ))}\r\n    </group>\r\n  );\r\n}\r\n\r\n// Particle system for ambient effects\r\nfunction AmbientParticles({ theme, mousePosition }) {\r\n  const particlesRef = useRef();\r\n  const particleCount = 50;\r\n  \r\n  const particles = useMemo(() => {\r\n    const positions = new Float32Array(particleCount * 3);\r\n    const colors = new Float32Array(particleCount * 3);\r\n    const color = new THREE.Color(THEMES[theme].primary);\r\n    \r\n    for (let i = 0; i < particleCount; i++) {\r\n      positions[i * 3] = (Math.random() - 0.5) * 50;\r\n      positions[i * 3 + 1] = (Math.random() - 0.5) * 50;\r\n      positions[i * 3 + 2] = (Math.random() - 0.5) * 20;\r\n      \r\n      colors[i * 3] = color.r;\r\n      colors[i * 3 + 1] = color.g;\r\n      colors[i * 3 + 2] = color.b;\r\n    }\r\n    \r\n    return { positions, colors };\r\n  }, [theme]);\r\n  \r\n  useFrame((state) => {\r\n    if (particlesRef.current) {\r\n      const positions = particlesRef.current.geometry.attributes.position.array;\r\n      \r\n      for (let i = 0; i < particleCount; i++) {\r\n        positions[i * 3 + 1] -= 0.01;\r\n        \r\n        if (positions[i * 3 + 1] < -25) {\r\n          positions[i * 3 + 1] = 25;\r\n          positions[i * 3] = (Math.random() - 0.5) * 50;\r\n          positions[i * 3 + 2] = (Math.random() - 0.5) * 20;\r\n        }\r\n        \r\n        // Mouse interaction\r\n        const dx = positions[i * 3] - mousePosition.x * 25;\r\n        const dy = positions[i * 3 + 1] - mousePosition.y * 25;\r\n        const distance = Math.sqrt(dx * dx + dy * dy);\r\n        \r\n        if (distance < 5) {\r\n          positions[i * 3] += (dx / distance) * 0.1;\r\n          positions[i * 3 + 1] += (dy / distance) * 0.1;\r\n        }\r\n      }\r\n      \r\n      particlesRef.current.geometry.attributes.position.needsUpdate = true;\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <points ref={particlesRef}>\r\n      <bufferGeometry>\r\n        <bufferAttribute\r\n          array={particles.positions}\r\n          count={particleCount}\r\n          itemSize={3}\r\n          attach=\"attributes-position\"\r\n        />\r\n        <bufferAttribute\r\n          array={particles.colors}\r\n          count={particleCount}\r\n          itemSize={3}\r\n          attach=\"attributes-color\"\r\n        />\r\n      </bufferGeometry>\r\n      <pointsMaterial\r\n        size={0.1}\r\n        transparent\r\n        opacity={0.6}\r\n        vertexColors\r\n        blending={THREE.AdditiveBlending}\r\n      />\r\n    </points>\r\n  );\r\n}\r\n\r\n// Main Three.js scene component\r\nfunction MatrixScene({ theme, mousePosition, settings }) {\r\n  const { viewport } = useThree();\r\n  const streamCount = settings.streamDensity;\r\n  \r\n  const streams = useMemo(() => {\r\n    return Array.from({ length: streamCount }, (_, index) => ({\r\n      x: (index / streamCount) * viewport.width - viewport.width / 2,\r\n      speed: 0.02 + Math.random() * 0.05,\r\n      length: 15 + Math.floor(Math.random() * 20),\r\n      depth: -5 + Math.random() * 10,\r\n      id: index\r\n    }));\r\n  }, [streamCount, viewport.width]);\r\n\r\n  return (\r\n    <>\r\n      <ambientLight intensity={0.1} />\r\n      <pointLight position={[0, 0, 10]} intensity={0.5} color={THEMES[theme].primary} />\r\n      \r\n      {streams.map((stream) => (\r\n        <RainStream\r\n          key={stream.id}\r\n          x={stream.x}\r\n          speed={stream.speed}\r\n          length={stream.length}\r\n          theme={theme}\r\n          depth={stream.depth}\r\n          mousePosition={mousePosition}\r\n          glitchIntensity={settings.glitchIntensity}\r\n        />\r\n      ))}\r\n      \r\n      {settings.ambientParticles && (\r\n        <AmbientParticles theme={theme} mousePosition={mousePosition} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n// Main MatrixRain component\r\nconst MatrixRain = ({ \r\n  theme = 'green',\r\n  className = '',\r\n  settings = {\r\n    streamDensity: 50,\r\n    glitchIntensity: 0.02,\r\n    ambientParticles: true,\r\n    motionBlur: true,\r\n    interactive: true\r\n  }\r\n}) => {\r\n  const containerRef = useRef();\r\n  const [mousePosition, setMousePosition] = useState({ x: 0.5, y: 0.5 });\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  // Mouse tracking for parallax effect\r\n  const handleMouseMove = useCallback((event) => {\r\n    if (!settings.interactive) return;\r\n    \r\n    const rect = containerRef.current?.getBoundingClientRect();\r\n    if (rect) {\r\n      const x = (event.clientX - rect.left) / rect.width;\r\n      const y = (event.clientY - rect.top) / rect.height;\r\n      setMousePosition({ x, y });\r\n    }\r\n  }, [settings.interactive]);\r\n\r\n  // Initialize component\r\n  useEffect(() => {\r\n    setIsLoaded(true);\r\n    \r\n    // GSAP entrance animation\r\n    if (containerRef.current) {\r\n      gsap.fromTo(\r\n        containerRef.current,\r\n        { opacity: 0, scale: 1.1 },\r\n        { opacity: 1, scale: 1, duration: 2, ease: 'power2.out' }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  // Performance optimization: throttle mouse events\r\n  useEffect(() => {\r\n    let timeoutId;\r\n    const throttledMouseMove = (event) => {\r\n      if (timeoutId) return;\r\n      timeoutId = setTimeout(() => {\r\n        handleMouseMove(event);\r\n        timeoutId = null;\r\n      }, 16); // ~60fps\r\n    };\r\n\r\n    if (containerRef.current) {\r\n      containerRef.current.addEventListener('mousemove', throttledMouseMove);\r\n      return () => {\r\n        if (containerRef.current) {\r\n          containerRef.current.removeEventListener('mousemove', throttledMouseMove);\r\n        }\r\n        if (timeoutId) clearTimeout(timeoutId);\r\n      };\r\n    }\r\n  }, [handleMouseMove]);\r\n\r\n  return (\r\n    <motion.div\r\n      ref={containerRef}\r\n      className={`fixed inset-0 overflow-hidden bg-black ${className}`}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: isLoaded ? 1 : 0 }}\r\n      transition={{ duration: 1.5 }}\r\n      style={{\r\n        background: 'radial-gradient(ellipse at center, #000000 0%, #000000 100%)',\r\n        filter: settings.motionBlur ? 'blur(0.5px)' : 'none'\r\n      }}\r\n    >\r\n      {/* Background gradient overlay */}\r\n      <div className=\"absolute inset-0 bg-gradient-to-b from-black via-gray-900 to-black opacity-50\" />\r\n      \r\n      {/* Three.js Canvas */}\r\n      <Canvas\r\n        camera={{ \r\n          position: [0, 0, 15], \r\n          fov: 75,\r\n          near: 0.1,\r\n          far: 1000\r\n        }}\r\n        style={{ \r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          zIndex: 1\r\n        }}\r\n        dpr={[1, 2]} // Responsive pixel ratio for performance\r\n        performance={{ min: 0.5 }} // Performance threshold\r\n      >\r\n        <MatrixScene \r\n          theme={theme} \r\n          mousePosition={mousePosition}\r\n          settings={settings}\r\n        />\r\n      </Canvas>\r\n      \r\n      {/* Additional CSS overlay effects */}\r\n      <div \r\n        className=\"absolute inset-0 pointer-events-none\"\r\n        style={{\r\n          background: `linear-gradient(45deg, transparent 0%, ${THEMES[theme].primary}05 50%, transparent 100%)`,\r\n          zIndex: 2\r\n        }}\r\n      />\r\n      \r\n      {/* Scanline effect */}\r\n      <div \r\n        className=\"absolute inset-0 pointer-events-none opacity-10\"\r\n        style={{\r\n          background: 'repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.1) 2px, rgba(255,255,255,0.1) 4px)',\r\n          zIndex: 3\r\n        }}\r\n      />\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default MatrixRain;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}